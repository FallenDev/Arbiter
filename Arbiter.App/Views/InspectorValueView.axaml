<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:vm="using:Arbiter.App.ViewModels.Inspector"
             mc:Ignorable="d" d:DesignWidth="800" d:DesignHeight="450"
             x:Class="Arbiter.App.Views.InspectorValueView"
             x:DataType="vm:InspectorValueViewModel">
    <UserControl.Resources>
        <SolidColorBrush x:Key="Talgonite.InspectorValue.Background" Color="#1e2228"/>
    </UserControl.Resources>
    
    <Grid ColumnSpacing="4">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="Auto" MinWidth="100"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>
        
        <Label Grid.Column="0"
               Content="{Binding Name}"
               ToolTip.Tip="{Binding ToolTip}"
               Margin="0"/>
        <TextBox Grid.Column="1"
                 Text="{Binding FormattedValue}"
                 TextAlignment="Right"
                 Watermark="&lt;unset&gt;"
                 PasswordChar="{Binding MaskCharacter, FallbackValue=●}"
                 RevealPassword="{Binding IsRevealed}"
                 Classes="read-only"
                 Classes.reveal="{Binding CanReveal}"
                 Background="{StaticResource Talgonite.InspectorValue.Background}"
                 FontFamily="{StaticResource Talgonite.Editor.FontFamily}"
                 Height="40"
                 HorizontalAlignment="Stretch">
            <TextBox.InnerLeftContent>
                <!-- Toggle Hex View -->
                <ToggleButton IsChecked="{Binding ShowHex}"
                              IsVisible="{Binding IsInteger}"
                              ToolTip.Tip="Toggle hexadecimal representation."
                              Padding="4,0"
                              Focusable="False">
                    <Panel>
                        <TextBlock Text="Dec"
                                   TextAlignment="Center"
                                   FontSize="14"
                                   FontWeight="SemiBold"
                                   IsVisible="{Binding !$parent[ToggleButton].IsChecked}"/>
                        <TextBlock Text="Hex"
                                   TextAlignment="Center"
                                   FontSize="14"
                                   FontWeight="SemiBold"
                                   IsVisible="{Binding $parent[ToggleButton].IsChecked}"/>
                    </Panel>
                </ToggleButton>
            </TextBox.InnerLeftContent>
            <TextBox.ContextMenu>
                <ContextMenu>
                    <MenuItem Header="Copy Value" Command="{Binding CopyToClipboardCommand}"/>
                </ContextMenu>
            </TextBox.ContextMenu>
        </TextBox>
    </Grid>
</UserControl>
